{% extends "home.html" %}
{% load static %}

{% block content %}

<div class="emp">
  <h4 style="text-align: left; margin: 50px 0px 50px 50px;">
    All Employee Entries
  </h4>
</div>

{% if empdata %}
<table border='1' style="margin-left: 200;" class="table text-center">
  <thead class="thead-dark">
    <tr>
      <th scope="col">Employee ID</th>
      <th scope="col">Name</th>
      <th scope="col">Contact Details</th>
      <th scope="col">Address</th>
      <th scope="col">Bloodgroup</th>
      <th scope="col">Emergency Contact Details</th>
      <th scope="col">Date of Joining</th>
      <th scope="col">Role</th>
      <th scope="col">Department - Designation</th>
      <th scope="col">Employment Type</th>
      <th scope="col">Salary</th>
      <th scope="col">Update Record</th>
      <th scope="col">Delete Record</th>
    </tr>
  </thead>
  <tbody>
    {% for x in empdata %}
    <tr>
      <td>{{ x.empid }}</td>
      <td>{{ x.firstname }} {{ x.lastname }}</td>
      <td>{{ x.email }}, {{ x.phone }}</td>
      <td>{{ x.address }}</td>
      <td>{{ x.bloodgroup }}</td>
      <td>{{ x.econtactname }} - {{ x.econtactphone }}</td>
      <td>{{ x.doj }}</td>
      <td>{{ x.role }}</td>
      <td>{{ x.department }} - {{ x.designation }}</td>
      <td>{{ x.emptype }}</td>
      <td>{{ x.salary }}/- per {{ x.per }}</td>
      <td><a href="{% url 'EmpUpdate' x.pk %}" class="btn btn-outline-success btn-sm">Update</a></td>
      <td><a href="{% url 'EmpDelete' x.pk %}" class="btn btn-outline-danger btn-sm">Delete</a></td>
    </tr>
    {% endfor %}
  </tbody>

  </table>

{% else %}
<div style="margin-left: 200px; margin-bottom: 50px; font-size: 18px;">
  <br>
    No data available!  <br><br>
</div>
{% endif %}
<div style="margin-left: 200px; margin-bottom: 50px;">
  <br>
  Want to add an employee? 
  <a href="{% url 'EmpForm' %}"  class="btn btn-outline-primary btn-sm">Add Employee</a>
</div>
{% endblock %}